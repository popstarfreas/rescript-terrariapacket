// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

let Zora = require("zora");
let Stdlib_JsExn = require("@rescript/runtime/lib/js/Stdlib_JsExn.js");
let Stdlib_Option = require("@rescript/runtime/lib/js/Stdlib_Option.js");
let Stdlib_Result = require("@rescript/runtime/lib/js/Stdlib_Result.js");
let Packet_NpcUpdate$TerrariaPacket = require("../src/packet/Packet_NpcUpdate.js");

Zora.test("should correctly parse and serialise NpcUpdate", t => {
  let data = {
    npcSlotId: 0,
    npcTypeId: 0,
    x: 0,
    y: 0,
    vx: 0,
    vy: 0,
    target: 0,
    directionX: false,
    directionY: false,
    ai: [
      undefined,
      undefined,
      undefined,
      undefined
    ],
    spriteDirection: false,
    life: {
      TAG: "Byte",
      _0: 0
    },
    releaseOwner: undefined,
    playerCountScale: undefined,
    strengthMultiplier: undefined,
    spawnedFromStatue: false
  };
  let result = Packet_NpcUpdate$TerrariaPacket.toBuffer(data);
  if (Stdlib_Result.isError(result)) {
    t.fail("Failed to serialise NpcUpdate");
  }
  let result$1 = Packet_NpcUpdate$TerrariaPacket.parse(Stdlib_Result.getOrThrow(result, undefined));
  if (result$1.TAG === "Ok") {
    t.equal(data, result$1._0);
    return;
  }
  t.fail(Stdlib_Option.getOrThrow(Stdlib_JsExn.message(result$1._0.error), undefined));
});

/*  Not a pure module */
